<!DOCTYPE html>
<html lang="en">

<head>
<title>Bootstrap Example</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link
	href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.0/dist/sweetalert2.min.css"
	rel="stylesheet">

<!-- <script src="https://kit.fontawesome.com/yourcode.js"
	crossorigin="anonymous"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<div class="container">
		<!-- Nav tabs -->
		<div class="col-sm-3">
			<h3 class="page-title" style="width: 350px">QUẢN LÝ GIẢM GIÁ</h3>
		</div>
		<ul class="nav nav-tabs" role="tablist">
			<li class="nav-item"><a class="nav-link active"
				data-toggle="tab" data-target="#home" href="">Danh Sách</a></li>
			<li class="nav-item"><a class="nav-link " data-toggle="tab"
				data-target="#menu1" href="" ng-click="reset()">Chỉnh Sửa</a></li>
		</ul>

		<!-- Tab panes -->
		<div class="tab-content card">
			<div id="home" class="container tab-pane active">
				<div class="mt-3 d-flex flex-row-reverse">
					<div class="p-2 col-sm-2">
						<select id="trangThai" ng-model="status" ng-change="genderStart()"
							class="form-control form-control-sm">
							<option value="">-- Tất cả --</option>
							<option value="true">Hoạt động</option>
							<option value="false">Dừng hoạt động</option>
						</select>
					</div>
				</div>
				<table class="table table-bordered table-sm mt-3">
					<thead>
						<tr>
							<td>ID</td>
							<td>Giảm Giá</td>
							<td>Trạng Thái</td>
							<td>Edit</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="item in pager.items">
							<td>{{item.discountId}}</td>
							<td>{{item.percentDiscount}}</td>
							<td>{{item.status? 'Hoạt động':'Dừng hoạt động'}}</td>
							<td>
								<button ng-click="edit(item)"
									class="btn btn-primary fa fa-wrench">
									<!-- Chỉnh sửa -->
								</button>
								<button ng-click="delete(item)"
									class="btn btn-danger fa fa-trash">
									<!-- Xóa -->
								</button>
							</td>
						</tr>
					</tbody>
				</table>
				<div class=" text-center mb-3">
					<button class="btn btn-danger" ng-click="pager.first()">
						<b class="fa fa-arrow-up"></b>
					</button>
					<button class="btn btn-primary" ng-click="pager.prev()">
						<b class="fa fa-arrow-left"></b>
					</button>
					<button class="btn btn-success">{{pager.page + 1}} of
						{{pager.count}}</button>
					<button class="btn btn-primary" ng-click="pager.next()">
						<b class="fa fa-arrow-right"></b>
					</button>
					<button class="btn btn-danger" ng-click="pager.last()">
						<b class="fa fa-arrow-down"></b>
					</button>
				</div>
			</div>
			<div id="menu1" class="container tab-pane">

				<div class="card-body">
					<div class="row">
						<div class="col-9">
							<div class="form-group">
								<div>ID</div>
								<input ng-model="form.discountId" readonly
									class="form-control form-control-sm">
							</div>
							
										<div class="form-group">
										<label>Giảm giá (%)</label>
											<div class="input-group">
											
												<span class="input-group-addon"> 
												</span> <input   type="number"
													id="nameDiscount" class="form-control form-control-sm"
													placeholder="Nhập giảm giá" ng-model="form.percentDiscount">
												<div class="invalid-tooltip" id="showErrorNameDiscount"></div>
											</div>

										</div>

							<!-- <div class="form-group" required autofocus>
								<div>Giảm Giá (%)</div>
								<input ng-model="form.percentDiscount"
									class="form-control form-control-sm">
							</div> -->
							<br>
							<div class="form-group">
								<label>Trạng Thái</label>

								<div class="form-control form-control-sm">
									<label class="radio-inline"> <input type="radio"
										name="available" ng-model="form.status" ng-value="true"
										checked> Hoạt động
									</label> &emsp; <label class="radio-inline"> <input
										type="radio" name="available" ng-model="form.status"
										ng-value="false"> Dừng hoạt động
									</label>
								</div>

							</div>

						</div>
					</div>

				</div>
				<div class="mb-3 text-center text-muted">
					<button class="btn btn-primary" ng-click="create()">
						<i class="fa fa-plus" aria-hidden="true"></i> Thêm
					</button>
					<button class="btn btn-warning" ng-click="update()">
						<i class="fa fa-wrench" aria-hidden="true"></i> Cập Nhật
					</button>
					<button class="btn btn-danger" ng-click="delete(form)">
						<i class="fa fa-trash" aria-hidden="true"></i> Xóa
					</button>
					<button class="btn btn-info" ng-click="reset()">
						<i class="fa fa-refresh" aria-hidden="true"></i> Xóa Form
					</button>
				</div>
			</div>
		</div>
</body>

<script>
	var checkDiscount = 0;

	$(document).ready(
			function() {
				$("#nameDiscount").keyup(
						function() {
							var percentDiscount = this.value;
							//
							if (percentDiscount == "") {
								$("#nameDiscount").addClass("is-invalid");
								$("#showErrorNameDiscount").text(
										"Vui lòng nhập tên danh mục!");
								checkDiscount = 10;
							} else {
								var number1 = percentDiscount;
								var max = $("#nameDiscount").attr("data-max");
								if (number1 > 30) {
									$("#nameDiscount").addClass("is-invalid");
									$("#showErrorNameDiscount").text("Nhập giá trị từ 1 đến 30");
									checkDiscount = 10;
								} else if (number1 <= 0 || number1 % 1 != 0) {
									$("#nameDiscount").addClass("is-invalid");
									$("#showErrorNameDiscount").text("Nhập giá trị nguyên dương");
									checkDiscount = 10;
								} else {
									$("#nameDiscount").removeClass("is-invalid");
									$("#showErrorNameDiscount").text("");
									checkDiscount = 1;
								}
							}
							handlerButtonSave();
						});

			});

	function checkForm() {
		$("#nameDiscount").keyup();
		return handlerButtonSave();
	}

	function handlerButtonSave() {
		var check = false;
		if (checkDiscount !== 10) {
			check = true;
			$("#btnSave").prop("disabled", false);
		} else {
			check = false;
			$("#btnSave").prop("disabled", true);
		}
		return check;
	}
</script>

<script
	src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.0/dist/sweetalert2.all.min.js"></script>
</html>